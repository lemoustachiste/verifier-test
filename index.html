<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Test verifier</title>
</head>
<body>
    <script src="./verifier.js"></script>
    <script>
        var definition = JSON.stringify({"@context": ["https://w3id.org/openbadges/v2", "https://w3id.org/blockcerts/v2", {"metadataJson": {"@id": "https://schemas.learningmachine.com/2017/blockcerts/metadata", "@type": "https://schemas.learningmachine.com/2017/types/text/json"}, "displayHtml": {"@id": "https://schemas.learningmachine.com/2017/blockcerts/displayHtml", "@type": "https://schemas.learningmachine.com/2017/types/text/html"}, "nonce": {"@id": "https://schemas.learningmachine.com/2017/blockcerts/nonce", "@type": "https://schema.org/Text"}, "universalIdentifier": {"@id": "https://schemas.learningmachine.com/2017/blockcerts/identifier", "@type": "https://schema.org/Text"}}], "type": "Assertion", "id": "https://certificates.learningmachine.com/certificate/eb696ae8105f5e98bfce1314a03ada71", "recipient": {"type": "email", "identity": "jfraichot@learningmachine.com", "hashed": false}, "recipientProfile": {"type": ["RecipientProfile", "Extension"], "name": "Julien Fraichot", "publicKey": "ecdsa-koblitz-pubkey:1DYAB6DsiwuxTdD44SPxfQaGxa4fz3jyzw"}, "badge": {"type": "BadgeClass", "id": "urn:uuid:73353fa1-1317-5141-a47e-d7db8c7cc389", "name": "Julien and Adam", "description": "Product Demo", "image": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyBAMAAADsEZWCAAAAG1BMVEUAAADr6+t1dXWwsLAdHR2SkpLNzc06OjpYWFh3Uv7KAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAn0lEQVQ4je2QwQqCQBCGP2o0H0M2qLur6dHD0gMYdZY6eBXEvAe+dysVuILHIMj/8O8sHzPzM7DoDyT5HPHqb5GtjthoXdPcDuGYrEKEJpcUg7URWQ8xU2iHj5r0QAm+fYxDuOyRq1I7Al1Ebra+kqrrOnp4TFLfpeQ1Uk2IT/wmzjSxPTa1rTK8YkyC5BRbO6cck8zdI+ZjZuZii35OTyNYGhfIDPxqAAAAAElFTkSuQmCC", "criteria": {}, "issuer": {"type": "Profile", "id": "https://certificates.learningmachine.com/issuer/58b8ec990456e11418ddef61.json", "name": "Default Organization", "url": "http://www.learningmachine.com/", "description": "Default Organization", "image": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEMAAABBBAMAAAB4LARLAAAAD1BMVEUAAAD///////////////+PQt5oAAAABHRSTlMArF4JPhUK4AAAADpJREFUSMdjcIEABiBgdsEGHEaVjCoZVTKqZFTJUFfCoIQNKMCV4AajSvArEcQJBBhcCAGHUSW0VAIA7JzHdagUEggAAAAASUVORK5CYII=", "email": "learningmachineadmin@mailinator.com"}, "signatureLines": [{"type": ["SignatureLine", "Extension"], "jobTitle": "signame", "image": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAyBAMAAABYG2ONAAAAG1BMVEUAAADr6+sdHR2SkpKwsLA6OjrNzc11dXVYWFgsYahDAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABGUlEQVRIie2SQWuDMBiGX5LoduxPCG1hV2kEe5QlgkdZZ9mxt13LFPToobD97CXfCpZkbAhjpzyIiSFPvjcfApFIJPIf8OVK6n2z8+IjWPnXykZrCDCtDtj1Rt4bk2F4HZABGV/3DXrjx6zA7F22khnkU1IyYERbtbCFTvzS4O6Mvaec4K7/DjyjgNuIAwUjpaTWCE/ppFv+cDt3sE8yqFmZ3HLQ0CR/c8FgyzslqZ9uqjTAUak8aMDFKkLlEylC3gaTVCWEyxQbNyHFRiXlEWzFZZiKEFbhxShJSZFo6skITlV4+Cd0qnYnsZf66y5a2yh9h62qSqcgL/wmY30drwkYveS8Pk8Cvg39Ay1YsVB50KpZqEQiv/AJYucp7VXVxUwAAAAASUVORK5CYII="}]}, "verification": {"type": ["MerkleProofVerification2017", "Extension"], "publicKey": "ecdsa-koblitz-pubkey:n4dcmxtMtQEiXAXMe6WExGcpQ6NaeCriqx"}, "issuedOn": "2018-04-11T17:39:12.976+00:00", "metadataJson": "{\"schema\":{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"displayOrder\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"certificate\":{\"order\":[\"locations\"],\"type\":\"object\",\"properties\":{\"locations\":{\"title\":\"Locations:\",\"description\":\"Locations:\",\"type\":\"string\",\"default\":\"Julien is in San Francisco and Adam is in Dallas\"}},\"required\":[\"locations\"]},\"recipient\":{\"properties\":{\"middleName\":{\"title\":\"middleName\",\"type\":\"string\"}}}}},\"certificate\":{\"locations\":\"Julien is in San Francisco and Adam is in Dallas\"},\"recipient\":{\"middleName\":\"none\"},\"displayOrder\":[\"certificate.locations\"]}", "displayHtml": "<section class=\"text\" style=\"margin-top:12px;width:100%;display:inline-block;\"><span style=\"display:block;font-family:Georgia, serif;font-weight:normal;font-size:1.25em;text-align:center;text-transform:none;color:#4e5f6b;margin:0 auto;width:100%\">Julien and Adam Product Demo occurred on April 11th 2018</span></section><section class=\"text\" style=\"margin-top:12px;width:100%;display:inline-block;\"><span style=\"display:block;font-family:Georgia, serif;font-weight:normal;font-size:1.25em;text-align:center;text-transform:none;color:#4e5f6b;margin:0 auto;width:100%\">Julien Fraichot</span></section>", "nonce": "a1a77a8a-fb19-43c4-b465-fe1116f7363a", "universalIdentifier": "eb696ae8-105f-5e98-bfce-1314a03ada71", "signature": {"type": ["MerkleProof2017", "Extension"], "merkleRoot": "985aa4ed7729b040191673914783802a68dffbaa5f8aa2cb2d0603be329ce993", "targetHash": "b95b7e27351ba15fbf67980e2553d8658e1f0f04577c0e20826034084f69c607", "proof": [{"left": "9b40ee2d31fdde75d33b89ce27712333ca78e942878b028e0bce0f7dd6af992f"}], "anchors": [{"sourceId": "8f0b568bf0c7d7ea2178ec11740118a845f8088e6ff4da5ff37adab0ceae2a25", "type": "BTCOpReturn", "chain": "bitcoinTestnet"}]}});
        function verifyTracker (step, status, message) {
          console.log('stepCode', step);
          console.log('status', status);
          console.log('message', message);
        }

        console.log(Verifier);
        var verifier = new Verifier.CertificateVerifier(definition, verifyTracker);

        verifier.verify(verifyTracker());
    </script>
</body>
</html>